# ShiftLang

A lightweight background tool that instantly translates selected text between any two languages with a single hotkey.

## Features

- **Any-to-any translation** — supports 130+ languages via Google Translate
- **Hotkey-driven** — press a hotkey to translate any selected text in-place
- **Auto language detection** — detects the input language and translates accordingly
- **Clipboard-safe** — translated text is excluded from Windows Clipboard History
- **Cross-platform** — works on Windows, macOS, and Linux (X11 & Wayland)
- **One-command install** — single command to set up everything
- **Virtual environment** — isolated Python dependencies (no system-wide installs)
- **Reconfigurable** — change settings anytime without reinstalling

## Requirements

- **Python 3.8+**
- **git** (to clone the repository)

## Quick Install

### Windows (PowerShell)

```powershell
git clone https://github.com/yourusername/ShiftLang.git; cd ShiftLang; python install.py
```

### macOS / Linux (Terminal)

```bash
git clone https://github.com/yourusername/ShiftLang.git && cd ShiftLang && python3 install.py
```

The installer will automatically:
1. Check your Python version and git
2. Create a virtual environment (uses `uv` if available, otherwise `venv`)
3. Install all dependencies into the isolated environment
4. Guide you through a preferences questionnaire (languages, auto-start, hotkey)
5. Configure everything for you

## Usage

1. Select any text in any application.
2. Press your configured hotkey (default: **Ctrl+Shift+Q**).
3. The selected text is replaced with its translation.

## Reconfigure Settings

To change your languages, hotkey, or auto-start preference without reinstalling:

```bash
# Windows
python install.py --reconfigure

# macOS / Linux
python3 install.py --reconfigure
```

Short form: `python install.py -r`

## Manual Run

If you chose not to enable auto-start, run ShiftLang manually:

```bash
# Windows
.venv\Scripts\python.exe main.py

# macOS / Linux
.venv/bin/python main.py
```

> **Note:** On Windows, run as administrator if the hotkey doesn't register in elevated windows.

### Wayland Users (Linux)

On Wayland sessions, ShiftLang uses a dedicated implementation with improved clipboard handling:

```bash
.venv/bin/python shiftlang_wayland.py
```

## Project Structure

```
ShiftLang/
├── main.py                  # Main application (Windows/macOS/X11)
├── shiftlang_wayland.py     # Wayland-optimized implementation (Linux)
├── install.py               # Interactive installer + reconfigure
├── config.json              # User preferences (generated by installer)
├── requirements.txt         # Python dependencies
├── .venv/                   # Virtual environment (auto-created)
└── README.md
```

## Dependencies

| Package           | Purpose                          |
|-------------------|----------------------------------|
| `keyboard`        | Global hotkey registration       |
| `pyperclip`       | Cross-platform clipboard access  |
| `deep-translator` | Google Translate API wrapper     |

### System Requirements

- **Wayland (Linux)**: Requires `wl-clipboard` package for clipboard operations
  - Ubuntu/Debian: `sudo apt install wl-clipboard`
  - Fedora: `sudo dnf install wl-clipboard`
  - Arch: `sudo pacman -S wl-clipboard`

## License

This project is open source and available under the [MIT License](LICENSE).
